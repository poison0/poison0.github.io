<!doctype html>
<html>
	<head>
		<title>Css3</title>
		<meta charset="utf-8">
	</head>
	<style>
		@keyframes show1{
		0%{
			background:red;
		}
		50%{
			background:blue;
		}
		100%{
			background:pink;
		}

		}

		@keyframes show2{
		0%{
			background:pink;
		}
		50%{
			background:blue;
		}
		100%{
			background:red;
		}
		
		}
		.show1{animation:1s show1 linear; }
		.show2{animation:1s show2 linear;}
		.box{width:200px; height: 200px; background: red; margin:100px auto 0; border-radius: 10px;}
		p{ width: 200px; height: 200px; margin:0 auto; clear: both;}
	</style>
	<script>
	window.onload = function()
	{
		var oBox = document.querySelector(".box");
		var boff = true;
		oBox.onclick = function()
		{
			if(boff)
			{
				oBox.className = "box show1";
			}else{
				return ;
			}
		}
		oBox.addEventListener("webkitAnimationEnd",fn,false);
		oBox.addEventListener("animationEnd",fn,false);
		
		function fn()
		{
			oBox.className = "box show2";
		}
	}
	</script>
	<body>
		<div class="box"></div>
		<p>点击盒子执行动画</p>
	</body>
</html>