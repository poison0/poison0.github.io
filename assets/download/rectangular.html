<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
<style>
body{background: black;}
canvas{background: white;}
</style>
<script>
window.onload = function()
{
	var oCanvas = document.querySelector('#canvas1');
var oGc = oCanvas.getContext('2d');


var num = 0;
var num2 = 0;
var switched = 1;

setInterval(function(){
	num++;

	oGc.save();
	//每次绘制新的画面的时候清除上一帧的画布
	oGc.clearRect( 0 , 0 , oCanvas.width , oCanvas.height );
	
	//移动到正中间
	oGc.translate(200,200);

	if( num2 == 60 )
	{
		switched = -1;
	}else if( num2 == 10 ){
		switched = 1;
	}

	num2 += switched;
	
	// 根据当前计算的num2的值 算出这一帧 需要缩放的度数
	oGc.scale( num2*1/50  , num2*1/50 );

	// 根据当前计算的num1的值 算出这一帧 需要旋转的度数
	oGc.rotate( num*Math.PI/180 );

	// 移动到栋中心点
	oGc.translate( -50 , -50 );

	oGc.fillRect( 0 , 0 , 100 , 100 );
	
	oGc.restore();
},30);
}
</script>
</head>

<body>
	<canvas id = 'canvas1' width='400' height='400'>
</body>
</html>
